# Журнал изменений

Все заметные изменения в проекте будут документированы в этом файле.

## [Не выпущено]

### Добавлено
- Проект полностью переписан: теперь MaK-CRM реализуется с нуля на базе платформы twenty (Elixir, Phoenix, LiveView, PostgreSQL, TailwindCSS)
- Полностью обновлены архитектура, инфраструктура, README, roadmap и ТЗ под новую технологическую платформу
- Описаны новые правила проектирования, структуры, RBAC, интеграций (amoCRM, Telegram-бот)
- Обновлены схемы инфраструктуры, этапы развертывания, CI/CD и DevOps
- Создан файл ТЗ с описанием требований к проекту
- Создан файл README.md с основной информацией о проекте
- Создан файл changelog.md для отслеживания изменений
- Добавлена возможность отмечать выполненные пункты в ТЗ
- Интеграция с GitHub: создан репозиторий MaK-CRM
- Создан документ с архитектурой системы (docs/architecture.md)
- Создан документ с описанием инфраструктуры (docs/infrastructure.md)
- Создан файл package.json в корне проекта с зависимостью concurrently для одновременного запуска backend и frontend
- Добавлено детальное описание системы ролей и прав доступа в ТЗ (раздел 2.4)
- Добавлен подробный пошаговый план реализации проекта с чек-боксами (раздел 4 в ТЗ)
- Значительно расширен раздел 2.1.9 о воронках продаж и автоматизациях с подробным описанием интерфейса и функциональности
- Система переименована во всех документах в MaK CRM
- Добавлена информация о подключении к облачной MongoDB Atlas (строка подключения и рекомендации по переменным окружения)
- Добавлен отдельный файл roadmap.md с планом реализации проекта. Ссылки на него добавлены в README.md и ТЗ.
- Обновлена запись о переработке roadmap.md в changelog.md
- Добавлена запись об изменении приоритетов этапов в roadmap.md
- Добавлена запись о перемещении этапа "Расширенные интеграции" на 6 место в roadmap.md
- Настроена интеграция с GitHub: репозиторий https://github.com/maslennikov-ig/MaK-CRM, реализована полная синхронизация локального и удалённого репозитория
- Добавил запись о переносе client/server и обновлении .env в changelog.md.
- Добавил запись о выполненных задачах в changelog.md.
- Обновил changelog.md, добавив информацию о созданных контроллерах, API-маршрутах и начале разработки интерфейса.
- Добавил запись о добавлении новых правил оформления фронтенда в changelog.md.
- Добавлена запись о полном переходе на платформу twenty (Elixir, Phoenix, LiveView, PostgreSQL, TailwindCSS), удалены все упоминания MERN/IDURAR. Обновление всех ключевых документов отражено в changelog.md.
- Добавлена запись об актуализации ТЗ (ТЗ_CRM_2025.md) с учётом всех пожеланий из TZ CRM.md и расширенных требований.
- Добавлена запись о полной синхронизации архитектуры, инфраструктуры, README, роадмапа и ТЗ с best practices и гайдлайнами twenty. Зафиксированы все ключевые изменения.
- Добавил запись о внедрении cross-env и создании .env для кроссплатформенного запуска и локальной разработки.

## 2025-05-04
- Синхронизированы архитектура, инфраструктура, README, роадмап и ТЗ с best practices и гайдлайнами платформы twenty (nx monorepo, React/NestJS, PostgreSQL, TypeScript strict, code style, тесты, i18n, CI/CD, multi-tenant, документация).
- Добавлен этап X в roadmap для внедрения всех стандартов twenty.
- В ТЗ добавлен отдельный раздел с требованиями к стилю, архитектуре и тестированию.
- README.md и infrastructure.md обновлены с учётом новых команд, структуры, требований к окружению и стандартов.
- Все изменения соответствуют .cursor/rules из twenty.
- Внедрён cross-env во все команды запуска и тестирования в twenty-server/project.json для полной кроссплатформенности (Windows/Linux/Mac).
- Создан файл .env с базовыми переменными для локальной разработки (REDIS_URL, NODE_ENV и шаблоны для других сервисов).
- Теперь запуск сервера и тестов не требует ручных правок для Windows.

### Исправлено
- Нет исправлений

## Формат записей

### Добавлено
- Для новых функций

### Изменено
- Для изменений в существующих функциях

### Устарело
- Для функций, которые скоро будут удалены

### Удалено
- Для удаленных функций

### Исправлено
- Для любых исправлений ошибок

### Безопасность
- Для исправлений уязвимостей
